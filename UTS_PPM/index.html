
<!DOCTYPE html>
<html>
<head>
	<title>Program Koperasi</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css" />
	<script src="http://code.jquery.com/jquery.min.js"></script>
	<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
</head>
<script>
    $(document).ready(function(){
        $("#hitung").on("tap", function(){ //event 1
            var waktu = parseFloat($("#waktu").val());
            var pinjaman = parseFloat($("#pinjaman").val());
            var cicil = 0;
            if(waktu <= 6 && waktu >= 1){
                cicil = 2;
            }else if(waktu > 6 && waktu <= 12){
                cicil = 1.5;
            }
            else if(waktu > 12){
                cicil = 1;
            }
            var res1 = (pinjaman * (cicil/100) * waktu);
            var res = res1 + pinjaman; 
            $("#result").text(res);
            var str = '';
            var cicilan = res / waktu;
            for(var i = 0; i<=waktu; i++){
                if(i == waktu){
                    str += '<tr><td>'+(i+1)+'</td><td>'+pinjaman+'</td><td>'+waktu+'</td><td>'+res1+'</td><td>'+cicilan.toFixed(2)+'</td><td>0</td></tr>';
                }else{
                    str += '<tr><td>'+(i+1)+'</td><td>'+pinjaman+'</td><td>'+waktu+'</td><td>'+res1+'</td><td>'+cicilan.toFixed(2)+'</td><td>'+res.toFixed(2)+'</td></tr>';
                }
                res -= cicilan;
            }

            $("#tabel").find('tbody')
                .append($(str));
        });

        $("#result").on("taphold", function(){ // event 2
            $(this).text("");
        });
        $("#result").on("vmouseover", function(){ // event 3
            $( this ).append( "<span style='color:#108040;'> vmouseover fired...</span>" );
        });
        
    });

</script>
<body> 
    <div data-role="page" id="page1">
        <div data-role="header">
            <h1>Input Pinjaman</h1>
        </div><!-- /header -->
    
        <div role="main" class="ui-content">
            <label for="text-basic">Pinjaman:</label>
            <input type="text" name="text-basic" id="pinjaman" value="">
            <label for="text-basic">Waktu Pinjaman (Cicilan):</label>
            <input type="text" name="text-basic" id="waktu" value="">
            <button class="ui-btn ui-btn-b" id="hitung">Hitung</button>
            Total Pengembalian : <span id="result"></span>
        </div><!-- /content -->
    
        <div data-role="footer" data-position="fixed">
            <div data-role="navbar" data-iconpos="bottom">
                <ul>
                   <li><a href="#page1" data-icon="home" class="ui-btn-active">Input Pinjaman</a></li>
                   <li><a href="#page2" data-icon="info">List Pinjaman</a></li>
                </ul>
            </div><!-- /navbar -->
            <h4>&copy; Copyright WellyX4869 2020</h4>
        </div><!-- /footer -->
    </div><!-- /page -->

    <div data-role="page" id="page2">
        <div data-role="header">
            <h1>List Pinjaman</h1>
        </div><!-- /header -->
    
        <div role="main" class="ui-content">
            <table data-role="table" id="tabel" data-mode="columntoggle" class="ui-body-d ui-shadow table-stripe ui-responsive" data-column-btn-theme="b" data-column-btn-text="Columns to display..." data-column-popup-theme="a">
             <thead>
               <tr class="ui-bar-d">
                 <th data-priority="6">No.</th>
                 <th data-priority="1">Pinjaman</th>
                 <th data-priority="2">Waktu Pinjam</th>
                 <th data-priority="3">Total Bunga</th>
                 <th data-priority="4">Cicilan Per Bulan</th>
                 <th data-priority="5">Total Pengembalian</th>
               </tr>
             </thead>
             <tbody>
             </tbody>
           </table>
        </div><!-- /content -->
    
        <div data-role="footer" data-position="fixed">
            <div data-role="navbar" data-iconpos="bottom">
                <ul>
                   <li><a href="#page1" data-icon="home">Input Pinjaman</a></li>
                   <li><a href="#page2" data-icon="info" class="ui-btn-active">List Pinjaman</a></li>
                </ul>
            </div><!-- /navbar -->
            <h4>&copy; Copyright WellyX4869 2020</h4>
        </div><!-- /footer -->
    </div><!-- /page -->
</body>
</html>